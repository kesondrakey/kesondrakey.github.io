<!DOCTYPE html>
<html>
<head>
    <title>Weather Calendar</title>
    <style>
        body, div {
            font-family: Arial, sans-serif;
        }
        #calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-gap: 5px;
        }
        .calendar-cell {
            padding: 10px;
            text-align: center;
            background: linear-gradient(to bottom, #232943, #343a54);
            color: white;
            position: relative;
        }
        .calendar-header, #monthName {
            font-weight: bold;
        }
        #monthName {
            text-align: center;
            color: white;
            margin-bottom: 10px;
            background: none;
            font-size: 24px;
        }
        .info-box {
            display: none;
            background-color: #333;
            color: white;
            position: absolute;
            right: 0;
            z-index: 1;
        }
        .calendar-cell:hover .info-box {
            display: block;
        }
        #controls {
            text-align: right;
        }
    </style>
</head>
<body>
    <div id="monthName">September 2023</div>
    <div id="calendar"></div>
    <div id="controls">
        <button id="prev">Prev</button>
        <button id="next">Next</button>
    </div>
    <script>
        fetch("../files/daily_fluxtower1.json")
            .then(response => response.json())
            .then(jsonData => {
                const calendarEl = document.getElementById('calendar');

                jsonData.forEach(day => {
                    const cell = document.createElement('div');
                    cell.className = 'calendar-cell';
                    
                    const icon = day.Description === "Sunny" ? "../images/sun.png" : "../images/rain.png";
                    
                    // Moved the icon to the left of the temperature text
                    cell.innerHTML = `
                        <div style="display: flex; align-items: center;">
                            <img src="${icon}" alt="${day.Description}" width="30" height="30">
                            <div>
                                <div>Max. Temp: ${day["Max.Temp"]}&#176; F</div>
                                <div>Min. Temp: ${day["Min.Temp"]}&#176; F</div>
                            </div>
                        </div>
                    `;
                    
                    const infoBox = document.createElement('div');
                    infoBox.className = 'info-box';
                    infoBox.innerHTML = `
                        Max Temp: ${day["Max.Temp"]}&#176; F<br>
                        Min Temp: ${day["Min.Temp"]}&#176; F<br>
                        Precipitation: ${day["Total.Precipitation"]} inches<br>
                        Soil Moisture: ${day["Avg.Soil.Moisture"]}
                    `;
                    
                    cell.appendChild(infoBox);
                    calendarEl.appendChild(cell);
                });
            })
            .catch(error => {
                console.error("Error fetching JSON:", error);
            });
    </script>
</body>
</html>

</body>
</html>
