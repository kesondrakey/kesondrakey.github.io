<!DOCTYPE html>
<html>
<head>
    <title>Weather Calendar</title>
    <style>
        body, div {
            font-family: Arial, sans-serif;
        }
        #calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-gap: 5px;
        }
        .calendar-cell {
            padding: 10px;
            background: linear-gradient(to bottom, #1b1f3b, #2f3554);  /* Slightly darker gradient */
            color: white;
            position: relative;
            min-height: 100px;
            font-size: 12px;  /* Smaller text */
        }
        .calendar-header, #monthName {
            font-weight: bold;
            text-align: center;
        }
        #monthName {
            text-align: center;
            color: white;
            margin-bottom: 10px;
            background: none;
            font-size: 24px;
        }
        .info-box {
            display: none;
            background-color: #171717;  /* Even darker gray */
            color: white;
            position: absolute;
            right: -200px;
            top: 0;
            z-index: 1;
            width: 200px;
            padding: 10px;
        }
        .calendar-cell:hover .info-box {
            display: block;
        }
        #controls {
            text-align: right;
        }
    </style>
</head>
<body>
    <div id="monthName">September 2023</div>
    <div id="calendar">
        <div class="calendar-header">Sun</div>
        <div class="calendar-header">Mon</div>
        <div class="calendar-header">Tue</div>
        <div class="calendar-header">Wed</div>
        <div class="calendar-header">Thu</div>
        <div class="calendar-header">Fri</div>
        <div class="calendar-header">Sat</div>
    </div>
    <div id="controls">
        <button id="prev">Prev</button>
        <button id="next">Next</button>
    </div>
    <script>
        fetch("../files/daily_fluxtower1.json")
            .then(response => response.json())
            .then(jsonData => {
                const calendarEl = document.getElementById('calendar');
                
                jsonData.forEach(day => {
                    const cell = document.createElement('div');
                    cell.className = 'calendar-cell';
                    
                    const icon = day.Description === "Sunny" ? "../images/sun.png" : "../images/rain.png";
                    
                    cell.innerHTML = `
                        <div>${day.Date.split('-')[2]}</div>  <!-- Day number -->
                        <div style="display: flex; align-items: center;">
                            <img src="${icon}" alt="${day.Description}" style="width:40px; height:40px; margin-right:10px;">
                            <div>
                                <div>Max Temp: ${day.MaxTemp}&#176;F</div>
                                <div>Min Temp: ${day.MinTemp}&#176;F</div>
                            </div>
                        </div>
                    `;
                    
                    const infoBox = document.createElement('div');
                    infoBox.className = 'info-box';
                    infoBox.innerHTML = `
                        Date: ${day.Date}<br>
                        Max Temp: ${day.MaxTemp}&#176;F<br>
                        Min Temp: ${day.MinTemp}&#176;F<br>
                        Precipitation: ${day.TotalPrecipitation} in.<br>
                        Soil Moisture: ${day.AvgSoilMoisture}
                    `;
                    
                    cell.appendChild(infoBox);
                    calendarEl.appendChild(cell);
                });
            })
            .catch(error => {
                console.error("Error fetching JSON:", error);
            });
    </script>
</body>
</html>
